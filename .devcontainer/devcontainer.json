{
  // Nom de l'environnement de développement (s'affiche dans VS Code et Codespaces)
  "name": "Monorepo Stack (Nx + Node 22 + TypeScript + GCP + Pulumi)",

  // Image Docker de base utilisée pour l'environnement de développement
  "image": "mcr.microsoft.com/devcontainers/typescript-node:22",

  // Fonctionnalités supplémentaires à inclure dans le conteneur via Dev Containers
  "features": {
    // Permet d'exécuter Docker à l'intérieur du conteneur (Docker-in-Docker)
    "ghcr.io/devcontainers/features/docker-in-docker:latest": {},
    // Installe le gestionnaire de paquets PNPM en global
    "ghcr.io/devcontainers-extra/features/npm-packages:latest": {
      "packages": "pnpm@latest, nx@latest"
    },
    // Installe la GitHub CLI pour interagir avec GitHub depuis la ligne de commande
    "ghcr.io/devcontainers/features/github-cli:latest": {},
    // Installe la CLI Pulumi pour l'infrastructure-as-code
    "ghcr.io/devcontainers-extra/features/pulumi:latest": {},
    // Installe la CLI Google Cloud pour interagir avec les services Google Cloud
    "ghcr.io/supergeoff/features/google-cli:latest": {}
  },

  // Personnalisations spécifiques aux outils et extensions
  "customizations": {
    // Configuration dédiée à VS Code
    "vscode": {
      // Liste des extensions VS Code installées automatiquement dans l'environnement
      "extensions": [
        "dbaeumer.vscode-eslint", // ESLint pour le linting du code
        "esbenp.prettier-vscode", // Prettier pour le formatage du code
        "nrwl.angular-console", // Nx Console pour les projets monorepo (Angular/Nx)
        "bradlc.vscode-tailwindcss", // Support Tailwind CSS
        "graphql.vscode-graphql", // Support GraphQL
        "pulumi.pulumi", // Extension Pulumi pour l'infrastructure-as-code
        "googlecloudtools.cloudcode", // Outils Google Cloud (GCP) pour VS Code
        "ms-azuretools.vscode-docker", // Interface Docker dans VS Code
        "spmeesseman.vscode-taskexplorer", // Explorateur de tâches pour VS Code
        "Equinusocio.vsc-material-theme", // Thème Material Design pour l'UI
        "postman.postman-for-vscode", // Extension Postman pour les requêtes API
        "pnpm.vscode-pnpm", // Extension PNPM pour la gestion des paquets
        "wayou.vscode-todo-highlight", // Mise en évidence des commentaires TODO
        "dotenv.dotenv-vscode", // Gestionnaire de variable d'environnement
        "saoudrizwan.claude-dev" // Extension Claude AI pour l'assistance IA
      ],
      // Paramètres par défaut pour VS Code dans cet environnement
      "settings": {
        // Définit Prettier comme le formateur par défaut
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        // Active le formatage automatique à la sauvegarde
        "editor.formatOnSave": true,
        // Applique le thème Material Design pour les icônes
        "workbench.iconTheme": "eq-material-theme-icons",
        // Applique le thème Material Design pour l'UI
        "workbench.colorTheme": "Material Theme Darker"
      }
    }
  },

  // Configuration des ports exposés pour les applications dans le conteneur
  "forwardPorts": [
    3000, // Port pour les applications Next.js
    3001 // Port pour les API ou passerelles principales (par exemple, NestJS)
  ],

  // Définit l'utilisateur non-root utilisé pour se connecter au conteneur
  "remoteUser": "node"

  // Commandes post-création ou post-démarrage (non définies pour l'instant)
  // "postCreateCommand": Pas de commande définie avant le démarrage
  // "postStartCommand": Pas de commande définie après le démarrage
}
